<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Personal Blog Manage System</title>
      <link href="/2022/04/03/Personal%20Blog%20Manage%20System/"/>
      <url>/2022/04/03/Personal%20Blog%20Manage%20System/</url>
      
        <content type="html"><![CDATA[<h1 id="Personal-Blog-Manage-System"><a href="#Personal-Blog-Manage-System" class="headerlink" title="Personal Blog Manage System"></a>Personal Blog Manage System</h1><h2 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1. Introduction"></a>1. Introduction</h2><p>This project is a blog manage system based on Node.js and basic JavaScript. To build up this project you need basic concept about:</p><ul><li>Frontend: HTML, CSS, JavaScript</li><li>Backend: Node.js</li><li>Database: MySQL</li></ul><p>This manage system implements basic functions like personal account management, article publishment, article category management.</p><span id="more"></span><h2 id="2-Run-the-Project"><a href="#2-Run-the-Project" class="headerlink" title="2. Run the Project"></a>2. Run the Project</h2><p>After downloading this project, you can run a terminal in the root file (Make sure you install Node.js) and input the command:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node app.js</span><br></pre></td></tr></table></figure><p>Now the server is running at port 2000 (Make sure this port is not occupied by other processes). Then click the link:</p><p><a href="http://127.0.0.1:2000/index.html">http://127.0.0.1:2000/index.html</a></p><p>Now you enter the login page. </p><p>Before operating the pages ensure that all third party packages are installed correctly and relative database is established!!!!</p><h2 id="3-Build-the-Backend-Part-of-the-Project"><a href="#3-Build-the-Backend-Part-of-the-Project" class="headerlink" title="3. Build the Backend Part of the Project"></a>3. Build the Backend Part of the Project</h2><h3 id="1-Initialization"><a href="#1-Initialization" class="headerlink" title="1. Initialization"></a>1. Initialization</h3><ol><li>First, create a root folder named <em>ManageSystem</em>. Then open a terminal here and input:</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init -y </span><br></pre></td></tr></table></figure><p>to initialize <em>package.json</em> in this folder. </p><ol start="2"><li>Install all packages below you need in this project by using:</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i xxx</span><br></pre></td></tr></table></figure><p>“@escook&#x2F;express-joi”: “^1.1.1”,</p><p>  “bcryptjs”: “^2.4.3”,</p><p>  “cors”: “^2.8.5”,</p><p>  “express”: “^4.17.3”,</p><p>  “express-jwt”: “^6.1.1”,</p><p>  “joi”: “^17.6.0”,</p><p>  “jsonwebtoken”: “^8.5.1”,</p><p>  “multer”: “^1.4.2”,</p><p>  “multiparty”: “^4.2.3”,</p><p>  “mysql”: “^2.18.1”</p><ol start="3"><li><p>Create <em>app.js</em> in the root folder as the main interface of the backend part of project. And write codes below to initialize it. </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// import express module</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="comment">// import CORS middleware module</span></span><br><span class="line"><span class="keyword">const</span> cors = <span class="built_in">require</span>(<span class="string">&#x27;cors&#x27;</span>);</span><br><span class="line"><span class="comment">// initialize server</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//register cors as global middleware</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">cors</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">//register this middleware to parse application/x-www-form-urlencoded data </span></span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">urlencoded</span>(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;))</span><br><span class="line"></span><br><span class="line"><span class="comment">// run server at port 2000</span></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">3007</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;api server running at 2000&#x27;</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>Create <em>router</em> folder in root folder to store all router modules. Create <em>router_handler</em> folder to store all router handler functions modules.</p></li><li><p>Create <em>user.js</em> in router folder as the basic account management router interface. Then write codes below:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express=<span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line">routerHandler=<span class="built_in">require</span>(<span class="string">&#x27;../router_handler/user&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//create router object</span></span><br><span class="line"><span class="keyword">const</span> router=express.<span class="title class_">Router</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//router for register new account</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/register&#x27;</span>,routerHandler.<span class="property">register</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//router for login</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/login&#x27;</span>,routerHandler.<span class="property">login</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//router for jumping to register page</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/register.html&#x27;</span>,)</span><br><span class="line"></span><br><span class="line"><span class="comment">//export this module</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>=router;</span><br></pre></td></tr></table></figure></li><li><p>Import <em>router</em> module in <em>app.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="built_in">require</span>(<span class="string">&#x27;./router/user&#x27;</span>)</span><br><span class="line"><span class="comment">//register router module and add &#x27;/api&#x27; to initial router path</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;/api&#x27;</span>, router)</span><br></pre></td></tr></table></figure></li><li><p>Create <em>user.js</em> in <em>router_handler</em> folder and define router handler functions:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exports</span>.<span class="property">register</span> = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">login</span> = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="2-Register-and-Login"><a href="#2-Register-and-Login" class="headerlink" title="2. Register and Login"></a>2. Register and Login</h3><h4 id="1-Initialize-relative-database"><a href="#1-Initialize-relative-database" class="headerlink" title="1. Initialize relative database"></a>1. Initialize relative database</h4><ol><li><p>Create a database named <em>mydb01</em> in MySQL. Then create a new table named <em>userinfo</em>:</p><p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20220414161524159.png" alt="image-20220414161524159"></p></li><li><p>Create <em>db</em> folder and create <em>index.js</em> in it. Write codes below:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mysql=<span class="built_in">require</span>(<span class="string">&#x27;mysql&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> db=mysql.<span class="title function_">createPool</span>(&#123;</span><br><span class="line">    <span class="attr">host</span>: <span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">    <span class="attr">user</span>: <span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    <span class="attr">password</span>: <span class="string">&#x27;xxxxxxxxxx&#x27;</span>, <span class="comment">//here is your password of MySQL</span></span><br><span class="line">    <span class="attr">database</span>: <span class="string">&#x27;mydb01&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>=db;</span><br></pre></td></tr></table></figure></li></ol><h4 id="2-Initialize-personal-information-verification-module"><a href="#2-Initialize-personal-information-verification-module" class="headerlink" title="2. Initialize personal information verification module"></a>2. Initialize personal information verification module</h4><ol><li><p>Using third party packages (<em>joi</em> and <em>escook&#x2F;express-joi</em>) to preprocedure user’s register and login information. Create <em>&#x2F;schema&#x2F;user.js</em> in root folder. Write codes below:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> joi=<span class="built_in">require</span>(<span class="string">&#x27;joi&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//verification rules of username and password</span></span><br><span class="line"><span class="keyword">const</span> username_lr=joi.<span class="title function_">string</span>().<span class="title function_">alphanum</span>().<span class="title function_">min</span>(<span class="number">1</span>).<span class="title function_">max</span>(<span class="number">15</span>).required();</span><br><span class="line"><span class="keyword">const</span> username_ui=joi.<span class="title function_">string</span>().<span class="title function_">alphanum</span>().<span class="title function_">min</span>(<span class="number">1</span>).<span class="title function_">max</span>(<span class="number">15</span>);</span><br><span class="line"><span class="keyword">const</span> password=joi.<span class="title function_">string</span>().<span class="title function_">pattern</span>(<span class="regexp">/^\S&#123;6,&#125;$/</span>).required();</span><br><span class="line"><span class="keyword">const</span> email=joi.<span class="title function_">string</span>().<span class="title function_">pattern</span>(<span class="regexp">/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]&#123;2,4&#125;)$/</span>);</span><br><span class="line"><span class="keyword">const</span> nickname=joi.<span class="title function_">string</span>();</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">regSchema</span>=&#123;</span><br><span class="line">    <span class="attr">body</span>:&#123;</span><br><span class="line">        <span class="attr">username</span>:username_lr,</span><br><span class="line">        password,</span><br><span class="line">        email</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Change codes in <em>&#x2F;router&#x2F;user.js</em> like this: </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express=<span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> routerHandler=<span class="built_in">require</span>(<span class="string">&#x27;../router_handler/user&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> expressJoi=<span class="built_in">require</span>(<span class="string">&#x27;@escook/express-joi&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123;regSchema&#125;=<span class="built_in">require</span>(<span class="string">&#x27;../schema/user&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router=express.<span class="title class_">Router</span>();</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/register&#x27;</span>,<span class="title function_">expressJoi</span>(regSchema),routerHandler.<span class="property">register</span>);</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/login&#x27;</span>,<span class="title function_">expressJoi</span>(regSchema),routerHandler.<span class="property">login</span>);</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/register.html&#x27;</span>,)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>=router;</span><br></pre></td></tr></table></figure></li><li><p>Simplify error report process: using <em>res.send({status:1, msg:xxxxxx})</em> to report errors is inconvenient. Define a <em>res.cc</em> function in <em>app.js</em> to simplify it and register it as a global middleware:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">req, res, next</span>) &#123;</span><br><span class="line">  <span class="comment">// status=0 success</span></span><br><span class="line">  <span class="comment">// status=1 fail (default)</span></span><br><span class="line">  res.<span class="property">cc</span> = <span class="keyword">function</span> (<span class="params">err, status = <span class="number">1</span></span>) &#123;</span><br><span class="line">    res.<span class="title function_">send</span>(&#123;</span><br><span class="line">      status,</span><br><span class="line">      <span class="comment">//if err is an error object or just a string</span></span><br><span class="line">      <span class="attr">message</span>: err <span class="keyword">instanceof</span> <span class="title class_">Error</span> ? err.<span class="property">message</span> : err,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">next</span>()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>Register a global middleware to return validation failure information to client in <em>app.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> joi=<span class="built_in">require</span>(<span class="string">&#x27;joi&#x27;</span>);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">err,req,res,next</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(err <span class="keyword">instanceof</span> joi.<span class="property">ValidationError</span>)</span><br><span class="line">        <span class="keyword">return</span> res.<span class="title function_">cc</span>(err);</span><br><span class="line">    <span class="keyword">if</span>(err.<span class="property">name</span>===<span class="string">&quot;UnauthorizedError&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&quot;id authorization failed!&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol><h4 id="3-Register-account-API"><a href="#3-Register-account-API" class="headerlink" title="3. Register account API"></a>3. Register account API</h4><ol><li><p>Change <em>register</em> function in <em>&#x2F;router_handler&#x2F;user.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bcryptjs=<span class="built_in">require</span>(<span class="string">&#x27;bcryptjs&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">register</span>=<span class="function">(<span class="params">req,res</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//if username exists</span></span><br><span class="line">    db.<span class="title function_">query</span>(<span class="string">&#x27;select * from userinfo where username=?&#x27;</span>,req.<span class="property">body</span>.<span class="property">username</span>,<span class="function">(<span class="params">err,results</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err) </span><br><span class="line">            <span class="keyword">return</span> res.<span class="title function_">cc</span>(err);</span><br><span class="line">        <span class="keyword">if</span>(results.<span class="property">length</span>&gt;<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&quot;username already exists!&quot;</span>);</span><br><span class="line">        <span class="comment">//use bcryptjs module to encrypt user&#x27;s password while registering </span></span><br><span class="line">        <span class="keyword">let</span> bcryptPassword=bcryptjs.<span class="title function_">hashSync</span>(req.<span class="property">body</span>.<span class="property">password</span>,<span class="number">10</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//insert new user</span></span><br><span class="line">        <span class="keyword">let</span> sql=<span class="string">&#x27;insert into userinfo (username,password,email) values(?,?,?)&#x27;</span>;</span><br><span class="line">        db.<span class="title function_">query</span>(sql,[req.<span class="property">body</span>.<span class="property">username</span>,bcryptPassword,req.<span class="property">body</span>.<span class="property">email</span>],<span class="function">(<span class="params">err,results</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(err) </span><br><span class="line">                <span class="keyword">return</span> res.<span class="title function_">cc</span>(err);</span><br><span class="line">            <span class="keyword">if</span>(results.<span class="property">affectedRows</span>!=<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&quot;register failed! please try again later!&quot;</span>);</span><br><span class="line">            res.<span class="title function_">cc</span>(<span class="string">&quot;register success!&quot;</span>,<span class="number">0</span>);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h4 id="4-Login-API"><a href="#4-Login-API" class="headerlink" title="4. Login API"></a>4. Login API</h4><ol><li><p>Change <em>login</em> function in <em>&#x2F;router_handler&#x2F;user.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bcryptjs=<span class="built_in">require</span>(<span class="string">&#x27;bcryptjs&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> jwt=<span class="built_in">require</span>(<span class="string">&#x27;jsonwebtoken&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> config=<span class="built_in">require</span>(<span class="string">&#x27;../config&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">login</span>=<span class="function">(<span class="params">req,res</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//if username exist</span></span><br><span class="line">    db.<span class="title function_">query</span>(<span class="string">&#x27;select * from userinfo where username=?&#x27;</span>,req.<span class="property">body</span>.<span class="property">username</span>,<span class="function">(<span class="params">err,results</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err)</span><br><span class="line">            <span class="keyword">return</span> res.<span class="title function_">cc</span>(err);</span><br><span class="line">        <span class="keyword">if</span>(results.<span class="property">length</span>!=<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&quot;username not found!&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//if password correct</span></span><br><span class="line">        <span class="comment">//use bcryptjs module to parse password encrypted while registering</span></span><br><span class="line">        <span class="keyword">if</span>(!bcryptjs.<span class="title function_">compareSync</span>(req.<span class="property">body</span>.<span class="property">password</span>,results[<span class="number">0</span>].<span class="property">password</span>))</span><br><span class="line">            <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&quot;password incorrect!&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//use userinfo to generate Token</span></span><br><span class="line">        <span class="comment">//remember to exclude some private information such as password and user&#x27;s</span></span><br><span class="line">        <span class="comment">//avatar to ensure sercurity!!</span></span><br><span class="line">        <span class="keyword">const</span> user=&#123;...results[<span class="number">0</span>],<span class="attr">password</span>:<span class="string">&#x27;&#x27;</span>,<span class="attr">user_pic</span>:<span class="string">&#x27;&#x27;</span>&#125;;</span><br><span class="line">        <span class="comment">//config is a customized module to generate JWT secret key</span></span><br><span class="line">        <span class="keyword">const</span> tokenStr=jwt.<span class="title function_">sign</span>(user,config.<span class="property">jwtSecretKey</span>,&#123;<span class="attr">expiresIn</span>:config.<span class="property">expiresIn</span>&#125;);</span><br><span class="line"><span class="comment">//send Token string and user information of this account back to the client</span></span><br><span class="line">        res.<span class="title function_">send</span>(&#123;</span><br><span class="line">            <span class="attr">status</span>:<span class="number">0</span>,</span><br><span class="line">            <span class="attr">msg</span>:<span class="string">&quot;login success!&quot;</span>,</span><br><span class="line">            <span class="attr">token</span>:<span class="string">&quot;Bearer &quot;</span>+tokenStr,</span><br><span class="line">            <span class="attr">userinfo</span>:&#123;</span><br><span class="line">                <span class="attr">username</span>:results[<span class="number">0</span>].<span class="property">username</span>,</span><br><span class="line">                <span class="attr">nickname</span>:results[<span class="number">0</span>].<span class="property">nickname</span>,</span><br><span class="line">                <span class="attr">email</span>:results[<span class="number">0</span>].<span class="property">email</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Create <em>config.js</em> in root folder:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>=&#123;</span><br><span class="line">    <span class="attr">jwtSecretKey</span>:<span class="string">&quot;Hanlin&quot;</span>,</span><br><span class="line">    <span class="attr">expiresIn</span>:<span class="string">&#x27;2h&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Configure Token middleware before register router in <em>app.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> expressJWT=<span class="built_in">require</span>(<span class="string">&#x27;express-jwt&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> config=<span class="built_in">require</span>(<span class="string">&#x27;./config&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//use unless() to define which routers need not Token verification</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">expressJWT</span>(&#123;<span class="attr">secret</span>:config.<span class="property">jwtSecretKey</span>,<span class="attr">algorithms</span>:[<span class="string">&#x27;HS256&#x27;</span>]&#125;).<span class="title function_">unless</span>(&#123;<span class="attr">path</span>:[<span class="regexp">/^\/api/</span>]&#125;));</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;/api&#x27;</span>,router);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">err,req,res,next</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(err <span class="keyword">instanceof</span> joi.<span class="property">ValidationError</span>)</span><br><span class="line">        <span class="keyword">return</span> res.<span class="title function_">cc</span>(err);</span><br><span class="line">    <span class="keyword">if</span>(err.<span class="property">name</span>===<span class="string">&quot;UnauthorizedError&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&quot;id authorization failed!&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol><h3 id="3-Personal-Center"><a href="#3-Personal-Center" class="headerlink" title="3. Personal Center"></a>3. Personal Center</h3><h4 id="1-Get-user-information"><a href="#1-Get-user-information" class="headerlink" title="1. Get user information"></a>1. Get user information</h4><ol><li><p>Create <em>&#x2F;router&#x2F;userinfo.js</em> router module</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">//router for getting user information</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/userinfo&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure></li><li><p>Import it in <em>app.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> userinfoRouter=<span class="built_in">require</span>(<span class="string">&#x27;./router/userinfo&#x27;</span>)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;/my&#x27;</span>,userinfoRouter);</span><br></pre></td></tr></table></figure><p>Attention! All routers that start with ‘&#x2F;my’ need pass the Token verification first!</p></li><li><p>Create <em>&#x2F;router_handler&#x2F;userinfo.js</em> and define function to process request of getting user information:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> db=<span class="built_in">require</span>(<span class="string">&#x27;../db/index&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">getUserinfo</span>=<span class="function">(<span class="params">req,res</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//find the relative account in database</span></span><br><span class="line">    <span class="keyword">const</span> sql=<span class="string">&quot;select id,username,nickname,email,user_pic from userinfo where id=?&quot;</span>;</span><br><span class="line">    db.<span class="title function_">query</span>(sql,req.<span class="property">user</span>.<span class="property">id</span>,<span class="function">(<span class="params">err,results</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err)</span><br><span class="line">            <span class="keyword">return</span> res.<span class="title function_">cc</span>(err);</span><br><span class="line">        <span class="comment">//if the user information does not exist, then return an error</span></span><br><span class="line">        <span class="keyword">if</span>(results.<span class="property">length</span>!==<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&quot;cannot get userinfo!&quot;</span>);</span><br><span class="line">        <span class="comment">//if the user information exists, then return it back to the client</span></span><br><span class="line">        res.<span class="title function_">send</span>(&#123;</span><br><span class="line">            <span class="attr">status</span>:<span class="number">0</span>,</span><br><span class="line">            <span class="attr">msg</span>:<span class="string">&quot;get userinfo success!&quot;</span>,</span><br><span class="line">            <span class="attr">data</span>:results[<span class="number">0</span>]</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Import it in <em>&#x2F;router&#x2F;userinfo.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> userinfoHandler=<span class="built_in">require</span>(<span class="string">&#x27;../router_handler/userinfo&#x27;</span>);</span><br></pre></td></tr></table></figure></li></ol><h4 id="2-Update-user-information"><a href="#2-Update-user-information" class="headerlink" title="2. Update user information"></a>2. Update user information</h4><ol><li><p>Add a new router in <em>&#x2F;router&#x2F;userinfo.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/userinfo&#x27;</span>,<span class="title function_">expressJoi</span>(updateUserinfoSchema),userinfoHandler.<span class="property">updateUserinfo</span>);</span><br></pre></td></tr></table></figure></li><li><p>Define function to process request of updating user information in  <em>&#x2F;router_handler&#x2F;userinfo.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exports</span>.<span class="property">updateUserinfo</span>=<span class="function">(<span class="params">req,res</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> sql=<span class="string">&quot;update userinfo set ? where id=?&quot;</span>;</span><br><span class="line">    db.<span class="title function_">query</span>(sql,[req.<span class="property">body</span>,req.<span class="property">user</span>.<span class="property">id</span>],<span class="function">(<span class="params">err,results</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err)</span><br><span class="line">            <span class="keyword">return</span> res.<span class="title function_">cc</span>(err);</span><br><span class="line">        <span class="keyword">if</span>(results.<span class="property">affectedRows</span>!==<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&quot;update userinfo failed!&quot;</span>);</span><br><span class="line">        res.<span class="title function_">cc</span>(<span class="string">&quot;update userinfo success!&quot;</span>,<span class="number">0</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Export a new verification rule for updating user information in <em>&#x2F;schema&#x2F;user.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exports</span>.<span class="property">updateUserinfoSchema</span>=&#123;</span><br><span class="line">    <span class="attr">body</span>:&#123;</span><br><span class="line">        <span class="attr">username</span>:username_ui,</span><br><span class="line">        nickname,</span><br><span class="line">        email</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Apply this new verification rule in <em>&#x2F;router&#x2F;userinfo.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> expressJoi=<span class="built_in">require</span>(<span class="string">&#x27;@escook/express-joi&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123;updateUserinfoSchema&#125;=<span class="built_in">require</span>(<span class="string">&#x27;../schema/user&#x27;</span>);</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/userinfo&#x27;</span>,<span class="title function_">expressJoi</span>(updateUserinfoSchema),userinfoHandler.<span class="property">updateUserinfo</span>);</span><br></pre></td></tr></table></figure></li></ol><h4 id="3-Reset-password"><a href="#3-Reset-password" class="headerlink" title="3. Reset password"></a>3. Reset password</h4><ol><li><p>Add a new router in <em>&#x2F;router&#x2F;userinfo.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/updatePassword&#x27;</span>,<span class="title function_">expressJoi</span>(updatePasswordSchema),userinfoHandler.<span class="property">updatePassword</span>);</span><br></pre></td></tr></table></figure></li><li><p>Define the verification rule for resetting password in <em>&#x2F;schema&#x2F;user.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exports</span>.<span class="property">updatePasswordSchema</span>=&#123;</span><br><span class="line">    <span class="attr">body</span>:&#123;</span><br><span class="line">        <span class="attr">oldPwd</span>:password,</span><br><span class="line">        <span class="comment">//new password must be different from old one</span></span><br><span class="line">        <span class="attr">newPwd</span>:joi.<span class="title function_">not</span>(joi.<span class="title function_">ref</span>(<span class="string">&#x27;oldPwd&#x27;</span>)).<span class="title function_">concat</span>(password)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Apply this new verification rule in <em>&#x2F;router&#x2F;userinfo.js</em>. All codes in this file are shown below:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express=<span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> userinfoHandler=<span class="built_in">require</span>(<span class="string">&#x27;../router_handler/userinfo&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> expressJoi=<span class="built_in">require</span>(<span class="string">&#x27;@escook/express-joi&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123;updateUserinfoSchema,updatePasswordSchema&#125;=<span class="built_in">require</span>(<span class="string">&#x27;../schema/user&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router=express.<span class="title class_">Router</span>();</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/userinfo&#x27;</span>,userinfoHandler.<span class="property">getUserinfo</span>);</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/userinfo&#x27;</span>,<span class="title function_">expressJoi</span>(updateUserinfoSchema),userinfoHandler.<span class="property">updateUserinfo</span>);</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/updatePassword&#x27;</span>,<span class="title function_">expressJoi</span>(updatePasswordSchema),userinfoHandler.<span class="property">updatePassword</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>=router;</span><br></pre></td></tr></table></figure></li><li><p>Define handle function of resetting password in <em>&#x2F;router_handler&#x2F;userinfo.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bcrypt=<span class="built_in">require</span>(<span class="string">&#x27;bcryptjs&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">updatePassword</span>=<span class="function">(<span class="params">req,res</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//find the user according to the id hidden in Token before verifying the password</span></span><br><span class="line">    <span class="keyword">const</span> sql=<span class="string">&quot;select * from userinfo where id=?&quot;</span>;</span><br><span class="line">    db.<span class="title function_">query</span>(sql,req.<span class="property">user</span>.<span class="property">id</span>,<span class="function">(<span class="params">err,results</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err)</span><br><span class="line">            <span class="keyword">return</span> res.<span class="title function_">cc</span>(err); </span><br><span class="line">        <span class="comment">//if the old password is correct</span></span><br><span class="line">        <span class="keyword">if</span>(!bcrypt.<span class="title function_">compareSync</span>(req.<span class="property">body</span>.<span class="property">oldPwd</span>,results[<span class="number">0</span>].<span class="property">password</span>))</span><br><span class="line">            <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&quot;password incorrect!&quot;</span>);</span><br><span class="line">        <span class="comment">//update password if the old password is correct</span></span><br><span class="line">        <span class="keyword">const</span> sql=<span class="string">&quot;update userinfo set password=? where id=?&quot;</span>;</span><br><span class="line">        <span class="keyword">const</span> newPwd=bcrypt.<span class="title function_">hashSync</span>(req.<span class="property">body</span>.<span class="property">newPwd</span>,<span class="number">10</span>);</span><br><span class="line">        db.<span class="title function_">query</span>(sql,[newPwd,req.<span class="property">user</span>.<span class="property">id</span>],<span class="function">(<span class="params">err,results</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(err)</span><br><span class="line">                <span class="keyword">return</span> res.<span class="title function_">cc</span>(err);</span><br><span class="line">            <span class="keyword">if</span>(results.<span class="property">affectedRows</span>!==<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&quot;update password failed!&quot;</span>);</span><br><span class="line">            res.<span class="title function_">cc</span>(<span class="string">&quot;update password success!&quot;</span>,<span class="number">0</span>);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="4-Article-Category-Management"><a href="#4-Article-Category-Management" class="headerlink" title="4. Article Category Management"></a>4. Article Category Management</h3><h4 id="1-Initialize-relative-database-1"><a href="#1-Initialize-relative-database-1" class="headerlink" title="1. Initialize relative database"></a>1. Initialize relative database</h4><ol><li><p>Create a new table named <em>userarticle</em> for <em>mydb01</em>:</p><p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20220414200318629.png" alt="image-20220414200318629"></p></li></ol><h4 id="2-Initialize-router-module"><a href="#2-Initialize-router-module" class="headerlink" title="2. Initialize router module"></a>2. Initialize router module</h4><ol><li><p>Create <em>&#x2F;router&#x2F;artcate.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure></li><li><p>Import this router in <em>app.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> artcateRouter=<span class="built_in">require</span>(<span class="string">&#x27;./router/artcate&#x27;</span>);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;/my/article&#x27;</span>,artcateRouter);</span><br></pre></td></tr></table></figure></li><li><p>Create <em>&#x2F;router_handler&#x2F;artcate.js</em>. Then import it in <em>&#x2F;router&#x2F;artcate.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> artcateHandler=<span class="built_in">require</span>(<span class="string">&#x27;../router_handler/artcate&#x27;</span>);</span><br></pre></td></tr></table></figure></li></ol><h4 id="3-Get-article-categories"><a href="#3-Get-article-categories" class="headerlink" title="3. Get article categories"></a>3. Get article categories</h4><ol><li><p>Define the handler function of getting categories in <em>&#x2F;router_handler&#x2F;artcate.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> db=<span class="built_in">require</span>(<span class="string">&#x27;../db/index&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">getArtcate</span>=<span class="function">(<span class="params">req,res</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//get all categories in database and order them by id</span></span><br><span class="line">    <span class="keyword">const</span> sql=<span class="string">&quot;select * from userarticle where is_delete=0 order by id asc&quot;</span>;</span><br><span class="line">    db.<span class="title function_">query</span>(sql,<span class="function">(<span class="params">err,results</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err)</span><br><span class="line">            <span class="keyword">return</span> res.<span class="title function_">cc</span>(err);</span><br><span class="line">        <span class="comment">//return the results to the client</span></span><br><span class="line">        res.<span class="title function_">send</span>(&#123;</span><br><span class="line">            <span class="attr">status</span>:<span class="number">0</span>,</span><br><span class="line">            <span class="attr">msg</span>:<span class="string">&quot;get article categories success!&quot;</span>,</span><br><span class="line">            <span class="attr">data</span>:results</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Create the router of getting categories in <em>&#x2F;router&#x2F;artcate.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/cates&#x27;</span>,artcateHandler.<span class="property">getArtcate</span>);</span><br></pre></td></tr></table></figure></li></ol><h4 id="4-Add-article-category"><a href="#4-Add-article-category" class="headerlink" title="4. Add article category"></a>4. Add article category</h4><ol><li><p>Create <em>&#x2F;schema&#x2F;artcate.js</em> and define a new verification rule for adding category:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> joi=<span class="built_in">require</span>(<span class="string">&#x27;joi&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> name=joi.<span class="title function_">string</span>().required();</span><br><span class="line"><span class="keyword">const</span> alias=joi.<span class="title function_">string</span>().<span class="title function_">alphanum</span>().required();</span><br><span class="line"><span class="keyword">const</span> id=joi.<span class="title function_">number</span>().<span class="title function_">integer</span>().<span class="title function_">min</span>(<span class="number">1</span>).required();</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">addArtcateSchema</span>=&#123;</span><br><span class="line">    <span class="attr">body</span>:&#123;</span><br><span class="line">        name,</span><br><span class="line">        alias</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>Create route for adding category in <em>&#x2F;router&#x2F;artcate.js</em> and apply the new verification rule:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express=<span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> artcateHandler=<span class="built_in">require</span>(<span class="string">&#x27;../router_handler/artcate&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> expressJoi=<span class="built_in">require</span>(<span class="string">&#x27;@escook/express-joi&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123;addArtcateSchema&#125;=<span class="built_in">require</span>(<span class="string">&#x27;../schema/artcate&#x27;</span>);</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/addcate&#x27;</span>,<span class="title function_">expressJoi</span>(addArtcateSchema),artcateHandler.<span class="property">addArtcate</span>);</span><br></pre></td></tr></table></figure></li><li><p>Define the handle function of adding category in <em>&#x2F;router_handler&#x2F;artcate.js:</em></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exports</span>.<span class="property">addArtcate</span>=<span class="function">(<span class="params">req,res</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//check if the category name already exists</span></span><br><span class="line">    <span class="keyword">const</span> sql=<span class="string">&quot;select * from userarticle where name=? and is_delete=0&quot;</span>;</span><br><span class="line">    db.<span class="title function_">query</span>(sql,req.<span class="property">body</span>.<span class="property">name</span>,<span class="function">(<span class="params">err,results</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err)</span><br><span class="line">            <span class="keyword">return</span> res.<span class="title function_">cc</span>(err);</span><br><span class="line">        <span class="keyword">if</span>(results.<span class="property">length</span>===<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&quot;name already exists!&quot;</span>);</span><br><span class="line">        <span class="keyword">const</span> sql=<span class="string">&quot;insert into userarticle set ?&quot;</span></span><br><span class="line">        db.<span class="title function_">query</span>(sql,req.<span class="property">body</span>,<span class="function">(<span class="params">err,results</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(err)</span><br><span class="line">                <span class="keyword">return</span> res.<span class="title function_">cc</span>(err);</span><br><span class="line">            <span class="keyword">if</span>(results.<span class="property">affectedRows</span>!==<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&quot;add category failed!&quot;</span>);</span><br><span class="line">            res.<span class="title function_">send</span>(&#123;</span><br><span class="line">                <span class="attr">status</span>:<span class="number">0</span>,</span><br><span class="line">                <span class="attr">msg</span>:<span class="string">&quot;add category success!&quot;</span>,</span><br><span class="line">                <span class="attr">data</span>:results</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h4 id="5-Delete-article-category"><a href="#5-Delete-article-category" class="headerlink" title="5. Delete article category"></a>5. Delete article category</h4><ol><li><p>Deleting category is based on user’s id. Export a new verification rule for deleting category in <em>&#x2F;schema&#x2F;artcate.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exports</span>.<span class="property">deleteArtcateSchema</span>=&#123;</span><br><span class="line">    <span class="attr">params</span>:&#123;</span><br><span class="line">        id</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Add router in <em>&#x2F;router&#x2F;artcate.js</em> for deleting:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;addArtcateSchema,deleteArtcateSchema&#125;=<span class="built_in">require</span>(<span class="string">&#x27;../schema/artcate&#x27;</span>);</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/deletecates/:id&#x27;</span>,<span class="title function_">expressJoi</span>(deleteArtcateSchema),artcateHandler.<span class="property">deletecateById</span>);</span><br></pre></td></tr></table></figure></li><li><p>Define handler function of deleting in <em>&#x2F;router_handler&#x2F;artcate.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exports</span>.<span class="property">deletecateById</span>=<span class="function">(<span class="params">req,res</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="comment">//id is hidden in request body params of POST request for deleting category</span></span><br><span class="line">    <span class="keyword">const</span> sql=<span class="string">&quot;update userarticle set is_delete=1 where id=?&quot;</span>;</span><br><span class="line">    db.<span class="title function_">query</span>(sql,req.<span class="property">params</span>.<span class="property">id</span>,<span class="function">(<span class="params">err,results</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err)</span><br><span class="line">            <span class="keyword">return</span> res.<span class="title function_">cc</span>(err);</span><br><span class="line">        <span class="keyword">if</span>(results.<span class="property">affectedRows</span>!==<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&quot;delete category failed!&quot;</span>);</span><br><span class="line">        res.<span class="title function_">cc</span>(<span class="string">&quot;delete category success!&quot;</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h4 id="6-Edit-article-category"><a href="#6-Edit-article-category" class="headerlink" title="6. Edit article category"></a>6. Edit article category</h4><ol><li><p>Export a new verification rule for editing category in <em>&#x2F;schema&#x2F;artcate.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exports</span>.<span class="property">updateArtcateSchema</span>=&#123;</span><br><span class="line">    <span class="attr">body</span>:&#123;</span><br><span class="line">        id,</span><br><span class="line">        name,</span><br><span class="line">        alias</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Add router in <em>&#x2F;router&#x2F;artcate.js</em>. And the final version of <em>&#x2F;router&#x2F;artcate.js</em> is shown as followed:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express=<span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> artcateHandler=<span class="built_in">require</span>(<span class="string">&#x27;../router_handler/artcate&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> expressJoi=<span class="built_in">require</span>(<span class="string">&#x27;@escook/express-joi&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123;addArtcateSchema,deleteArtcateSchema,updateArtcateSchema&#125;=<span class="built_in">require</span>(<span class="string">&#x27;../schema/artcate&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router=express.<span class="title class_">Router</span>();</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/cates&#x27;</span>,artcateHandler.<span class="property">getArtcate</span>);</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/addcate&#x27;</span>,<span class="title function_">expressJoi</span>(addArtcateSchema),artcateHandler.<span class="property">addArtcate</span>);</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/deletecates/:id&#x27;</span>,<span class="title function_">expressJoi</span>(deleteArtcateSchema),artcateHandler.<span class="property">deletecateById</span>);</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/updatecate&#x27;</span>,<span class="title function_">expressJoi</span>(updateArtcateSchema),artcateHandler.<span class="property">updatecateById</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>=router;</span><br></pre></td></tr></table></figure></li><li><p>Define handler function of editing in <em>&#x2F;router_handler&#x2F;artcate.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exports</span>.<span class="property">updatecateById</span>=<span class="function">(<span class="params">req,res</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//check if the new name of category exists</span></span><br><span class="line">    <span class="keyword">const</span> sql=<span class="string">&quot;select * from userarticle where id!=? and is_delete=0 and name=?&quot;</span>;</span><br><span class="line">    db.<span class="title function_">query</span>(sql,[req.<span class="property">body</span>.<span class="property">id</span>,req.<span class="property">body</span>.<span class="property">name</span>],<span class="function">(<span class="params">err,results</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err)</span><br><span class="line">            <span class="keyword">return</span> res.<span class="title function_">cc</span>(err);</span><br><span class="line">        <span class="keyword">if</span>(results.<span class="property">length</span>!==<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&quot;name already exists!&quot;</span>);</span><br><span class="line">        <span class="comment">//update database with new data after editing</span></span><br><span class="line">        <span class="keyword">const</span> sql=<span class="string">&quot;update userarticle set ? where id=?&quot;</span></span><br><span class="line">        db.<span class="title function_">query</span>(sql,[req.<span class="property">body</span>,req.<span class="property">body</span>.<span class="property">id</span>],<span class="function">(<span class="params">err,results</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(err)</span><br><span class="line">                <span class="keyword">return</span> res.<span class="title function_">cc</span>(err);</span><br><span class="line">            <span class="keyword">if</span>(results.<span class="property">affectedRows</span>!==<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&quot;update category failed!&quot;</span>);</span><br><span class="line">            res.<span class="title function_">cc</span>(<span class="string">&quot;update category success!&quot;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="5-Article-Publishment-Management"><a href="#5-Article-Publishment-Management" class="headerlink" title="5. Article Publishment Management"></a>5. Article Publishment Management</h3><h4 id="1-Initialize-relative-database-2"><a href="#1-Initialize-relative-database-2" class="headerlink" title="1. Initialize relative database"></a>1. Initialize relative database</h4><ol><li><p>Create a new table name <em>articles</em>:</p><p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20220414204857057.png" alt="image-20220414204857057"></p></li></ol><h4 id="2-Initialize-router-module-1"><a href="#2-Initialize-router-module-1" class="headerlink" title="2. Initialize router module"></a>2. Initialize router module</h4><ol><li><p>Create &#x2F;router&#x2F;<em>article.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure></li><li><p>Import this in <em>app.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> articleRouter=<span class="built_in">require</span>(<span class="string">&#x27;./router/article&#x27;</span>);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;/my/article&#x27;</span>,artcateRouter);</span><br></pre></td></tr></table></figure></li><li><p>Create <em>&#x2F;router_handler&#x2F;article.js</em>. Then import it in <em>&#x2F;router&#x2F;article.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> articleHandler=<span class="built_in">require</span>(<span class="string">&#x27;../router_handler/article&#x27;</span>);</span><br></pre></td></tr></table></figure></li></ol><h4 id="3-Verification-rule-for-publishment"><a href="#3-Verification-rule-for-publishment" class="headerlink" title="3. Verification rule for publishment"></a>3. Verification rule for publishment</h4><ol><li><p>Define handler function for publishment in <em>&#x2F;router_handler&#x2F;article.js</em>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path=<span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> db=<span class="built_in">require</span>(<span class="string">&#x27;../db/index&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//import a module to process form data in POST request body</span></span><br><span class="line"><span class="comment">//the data in request body is divded into file and text</span></span><br><span class="line"><span class="comment">//file is the cover of the article for publishment</span></span><br><span class="line"><span class="comment">//text is the data mentioned in /schema/article.js</span></span><br><span class="line"><span class="keyword">const</span> multiparty=<span class="built_in">require</span>(<span class="string">&#x27;multiparty&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">addArticle</span>=<span class="function">(<span class="params">req,res</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//define a form object to parse form data from client</span></span><br><span class="line">    <span class="keyword">let</span> form = <span class="keyword">new</span> multiparty.<span class="title class_">Form</span>();</span><br><span class="line">    <span class="comment">//parse form data</span></span><br><span class="line">    form.<span class="title function_">parse</span>(req,<span class="function">(<span class="params">err, fields, files</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(err)</span><br><span class="line">            <span class="keyword">return</span> res.<span class="title function_">cc</span>(err);</span><br><span class="line">        <span class="comment">//check if cover is chosen</span></span><br><span class="line">        <span class="keyword">if</span>(files.<span class="property">cover_img</span>)</span><br><span class="line">            <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&quot;please choose cover!&quot;</span>);</span><br><span class="line">        <span class="comment">//check if title, category, content are empty</span></span><br><span class="line">        <span class="keyword">if</span>(!(fields.<span class="property">cate</span>[<span class="number">0</span>] &amp;&amp; fields.<span class="property">title</span>[<span class="number">0</span>] &amp;&amp; fields.<span class="property">content</span>[<span class="number">0</span>]))</span><br><span class="line">            <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&quot;title, category, content cannot be empty!&quot;</span>);</span><br><span class="line">        <span class="comment">//check if category of the article exists</span></span><br><span class="line">        <span class="keyword">const</span> sql=<span class="string">&quot;select * from userarticle where name=? and is_delete=0&quot;</span></span><br><span class="line">        db.<span class="title function_">query</span>(sql,fields.<span class="property">cate</span>[<span class="number">0</span>],<span class="function">(<span class="params">err,results</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(err)</span><br><span class="line">                <span class="keyword">return</span> res.<span class="title function_">cc</span>(err);</span><br><span class="line">            <span class="keyword">if</span>(results.<span class="property">length</span>!==<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&quot;the category you selected does not exist!&quot;</span>);</span><br><span class="line">            <span class="comment">//when all conditions are satisfied, use an object to store form data from client</span></span><br><span class="line">            <span class="keyword">const</span> articleInfo=&#123;</span><br><span class="line">                <span class="attr">title</span>:fields.<span class="property">title</span>[<span class="number">0</span>],</span><br><span class="line">                <span class="attr">cate</span>:fields.<span class="property">cate</span>[<span class="number">0</span>],</span><br><span class="line">                <span class="attr">content</span>:fields.<span class="property">content</span>[<span class="number">0</span>],</span><br><span class="line">                <span class="attr">state</span>:fields.<span class="property">state</span>[<span class="number">0</span>],</span><br><span class="line">                <span class="attr">cover_img</span>:path.<span class="title function_">join</span>(<span class="string">&#x27;/uploads&#x27;</span>,files.<span class="property">cover_img</span>[<span class="number">0</span>].<span class="property">originalFilename</span>),</span><br><span class="line">                <span class="attr">pub_date</span>:<span class="keyword">new</span> <span class="title class_">Date</span>(),</span><br><span class="line">                <span class="attr">author_id</span>:req.<span class="property">user</span>.<span class="property">id</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//insert information about the article into MySQL</span></span><br><span class="line">            <span class="keyword">const</span> sql=<span class="string">&quot;insert into articles set ?&quot;</span>;</span><br><span class="line">            db.<span class="title function_">query</span>(sql,articleInfo,<span class="function">(<span class="params">err,results</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(err)</span><br><span class="line">                    <span class="keyword">return</span> res.<span class="title function_">cc</span>(err);</span><br><span class="line">                <span class="keyword">if</span>(results.<span class="property">affectedRows</span>!==<span class="number">1</span>)</span><br><span class="line">                    <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&quot;publish article failed!&quot;</span>);</span><br><span class="line">                res.<span class="title function_">cc</span>(<span class="string">&quot;publish article success!&quot;</span>);</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">   &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Invoke this function in &#x2F;router&#x2F;article.js:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/add&#x27;</span>,articleHandler.<span class="property">addArticle</span>);</span><br></pre></td></tr></table></figure></li></ol><h2 id="4-Build-the-Frontend-Part-of-the-Project"><a href="#4-Build-the-Frontend-Part-of-the-Project" class="headerlink" title="4. Build the Frontend Part of the Project"></a>4. Build the Frontend Part of the Project</h2><h3 id="1-Login-Page"><a href="#1-Login-Page" class="headerlink" title="1. Login Page"></a>1. Login Page</h3><ol><li><p>Create <em>Frontend</em> folder in root folder. Then, create &#x2F;Frontend&#x2F;index.html:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>index<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;manage system based on Node&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;keywords&quot;</span> <span class="attr">content</span>=<span class="string">&quot;1,1,1&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;http://127.0.0.1:2000/CSS/index.css&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">crossorigin</span>=<span class="string">&quot;anonymous&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/axios/0.19.2/axios.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;login&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;SignIn&quot;</span>&gt;</span>Log in<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;username: &quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">id</span>=<span class="string">&quot;password&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;password: &quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;loginBtn&quot;</span> <span class="attr">id</span>=<span class="string">&quot;loginBtn&quot;</span>&gt;</span>Log in<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--Jump to register page--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;noAccount&quot;</span>&gt;</span>Don&#x27;t have an account? <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://127.0.0.1:2000/register.html&quot;</span> <span class="attr">method</span>=<span class="string">&quot;GET&quot;</span> <span class="attr">class</span>=<span class="string">&quot;register&quot;</span>&gt;</span>Register<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;http://127.0.0.1:2000/JS/index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>Create <em>&#x2F;Frontend&#x2F;CSS&#x2F;index.css</em> to customize the style of login page:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* clear the default style */</span></span><br><span class="line">* &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    <span class="attribute">border</span>: none;</span><br><span class="line">    <span class="attribute">outline</span>: none;</span><br><span class="line">    <span class="attribute">font-family</span>: Verdana, Geneva, Tahoma, sans-serif;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">li</span> &#123;</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* define body size, layout, background */</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">100vh</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">45deg</span>,<span class="built_in">rgb</span>(<span class="number">104</span>, <span class="number">244</span>, <span class="number">247</span>),<span class="built_in">rgb</span>(<span class="number">251</span>, <span class="number">72</span>, <span class="number">48</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login</span> &#123;</span><br><span class="line">    <span class="comment">/* size */</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">340px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">360px</span>;</span><br><span class="line">    <span class="comment">/* location and layout */</span></span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-evenly;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">    <span class="attribute">flex-direction</span>: column;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="comment">/* shadow &amp; background */</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">254</span>, <span class="number">252</span>);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">20px</span> <span class="number">20px</span> <span class="number">50px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.3</span>);</span><br><span class="line">    <span class="comment">/* border */</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.5</span>);</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.5</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.SignIn</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">25px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">550</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.user</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">247px</span>;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">40px</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">128</span>, <span class="number">128</span>, <span class="number">128</span>);</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">226</span>, <span class="number">226</span>, <span class="number">226</span>);</span><br><span class="line"></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.2s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.user</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">260px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.user</span> <span class="selector-tag">input</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">226</span>, <span class="number">226</span>, <span class="number">226</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.loginBtn</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">70px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>:<span class="string">&#x27;Gill Sans&#x27;</span>, <span class="string">&#x27;Gill Sans MT&#x27;</span>, Calibri, <span class="string">&#x27;Trebuchet MS&#x27;</span>, sans-serif;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">550</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">color</span>: azure;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">70</span>, <span class="number">190</span>, <span class="number">237</span>);</span><br><span class="line"></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.2s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.loginBtn</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">80px</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">0px</span>,<span class="number">2px</span>);</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.noAccount</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.register</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">21</span>, <span class="number">153</span>, <span class="number">201</span>);</span><br><span class="line"></span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.2s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.register</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">17</span>, <span class="number">109</span>, <span class="number">142</span>);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.05</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Create &#x2F;Frontend&#x2F;JS&#x2F;index.js to define that button of “login” can send login AJAX request by axios to server:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> loginBtn=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;loginBtn&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> username=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;username&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> password=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;password&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> email=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;email&quot;</span>);</span><br><span class="line">axios.<span class="property">defaults</span>.<span class="property">baseURL</span>=<span class="string">&#x27;http://127.0.0.1:2000&#x27;</span>;</span><br><span class="line">loginBtn.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="title function_">axios</span>(&#123;</span><br><span class="line">        <span class="comment">//request method</span></span><br><span class="line">        <span class="attr">method</span>:<span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">        <span class="comment">//url</span></span><br><span class="line">        <span class="attr">url</span>:<span class="string">&#x27;/api/login&#x27;</span>,</span><br><span class="line">        <span class="comment">//url parameters</span></span><br><span class="line">        <span class="attr">params</span>:&#123;&#125;,</span><br><span class="line">        <span class="attr">headers</span>:&#123;</span><br><span class="line">            <span class="string">&#x27;content-type&#x27;</span>:<span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//request body</span></span><br><span class="line">        <span class="attr">data</span>:<span class="string">`username=<span class="subst">$&#123;username.value&#125;</span>&amp;password=<span class="subst">$&#123;password.value&#125;</span>`</span></span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>.<span class="property">userinfo</span>.<span class="property">username</span>);</span><br><span class="line">        location.<span class="property">href</span>=<span class="string">&quot;http://127.0.0.1:2000/home.html&quot;</span></span><br><span class="line">        sessionStorage.<span class="title function_">setItem</span>(<span class="string">&#x27;token&#x27;</span>,res.<span class="property">data</span>.<span class="property">token</span>);</span><br><span class="line">        sessionStorage.<span class="title function_">setItem</span>(<span class="string">&#x27;userinfo&#x27;</span>,<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(res.<span class="property">data</span>.<span class="property">userinfo</span>));</span><br><span class="line">        <span class="title function_">alert</span>(res.<span class="property">data</span>.<span class="property">msg</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br></pre></td></tr></table></figure></li><li><p>Finally, this page is shown as followed:</p><p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20220415100514714.png" alt="image-20220415100514714"></p></li></ol><h3 id="2-Register-Page"><a href="#2-Register-Page" class="headerlink" title="2. Register Page"></a>2. Register Page</h3><ol><li><p>Create <em>&#x2F;Frontend&#x2F;register.html</em>. This page is almost the same as login page:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>register<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;manage system based on Node&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;keywords&quot;</span> <span class="attr">content</span>=<span class="string">&quot;1,1,1&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;http://127.0.0.1:2000/CSS/register.css&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">crossorigin</span>=<span class="string">&quot;anonymous&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/axios/0.19.2/axios.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;register&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;registerLogo&quot;</span>&gt;</span>Register<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;username: &quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">id</span>=<span class="string">&quot;password&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;password: &quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;email&quot;</span> <span class="attr">id</span>=<span class="string">&quot;email&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;email: &quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;registerBtn&quot;</span> <span class="attr">id</span>=<span class="string">&quot;registerBtn&quot;</span>&gt;</span>Register<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;http://127.0.0.1:2000/JS/register.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>Create &#x2F;Frontend&#x2F;CSS&#x2F;register.css to customize the style:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    <span class="attribute">border</span>: none;</span><br><span class="line">    <span class="attribute">outline</span>: none;</span><br><span class="line">    <span class="attribute">font-family</span>: Verdana, Geneva, Tahoma, sans-serif;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">li</span> &#123;</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">100vh</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">45deg</span>,<span class="built_in">rgb</span>(<span class="number">104</span>, <span class="number">244</span>, <span class="number">247</span>),<span class="built_in">rgb</span>(<span class="number">251</span>, <span class="number">72</span>, <span class="number">48</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.register</span> &#123;</span><br><span class="line">    <span class="comment">/* size */</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">340px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">360px</span>;</span><br><span class="line">    <span class="comment">/* location and layout */</span></span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-evenly;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">    <span class="attribute">flex-direction</span>: column;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="comment">/* shadow &amp; background */</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">254</span>, <span class="number">252</span>);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">20px</span> <span class="number">20px</span> <span class="number">50px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.3</span>);</span><br><span class="line">    <span class="comment">/* border */</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.5</span>);</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.5</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.registerLogo</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">25px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">550</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.user</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">247px</span>;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">40px</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">128</span>, <span class="number">128</span>, <span class="number">128</span>);</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">226</span>, <span class="number">226</span>, <span class="number">226</span>);</span><br><span class="line"></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.2s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.user</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">260px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.user</span> <span class="selector-tag">input</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">226</span>, <span class="number">226</span>, <span class="number">226</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.registerBtn</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">70px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>:<span class="string">&#x27;Gill Sans&#x27;</span>, <span class="string">&#x27;Gill Sans MT&#x27;</span>, Calibri, <span class="string">&#x27;Trebuchet MS&#x27;</span>, sans-serif;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">550</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">color</span>: azure;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">70</span>, <span class="number">190</span>, <span class="number">237</span>);</span><br><span class="line"></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.2s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.registerBtn</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">80px</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">0px</span>,<span class="number">2px</span>);</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.noAccount</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>Create &#x2F;Frontend&#x2F;JS&#x2F;register.js to send register AJAX request to server:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> registerBtn=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;registerBtn&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> username=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;username&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> password=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">axios.<span class="property">defaults</span>.<span class="property">baseURL</span>=<span class="string">&#x27;http://127.0.0.1:2000&#x27;</span>;</span><br><span class="line">registerBtn.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="title function_">axios</span>(&#123;</span><br><span class="line">        <span class="comment">//request method</span></span><br><span class="line">        <span class="attr">method</span>:<span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">        <span class="comment">//url</span></span><br><span class="line">        <span class="attr">url</span>:<span class="string">&#x27;/api/register&#x27;</span>,</span><br><span class="line">        <span class="comment">//url parameters</span></span><br><span class="line">        <span class="attr">params</span>:&#123;&#125;,</span><br><span class="line">        <span class="attr">headers</span>:&#123;</span><br><span class="line">            <span class="string">&#x27;content-type&#x27;</span>:<span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//request body</span></span><br><span class="line">        <span class="attr">data</span>:<span class="string">`username=<span class="subst">$&#123;username.value&#125;</span>&amp;password=<span class="subst">$&#123;password.value&#125;</span>&amp;email=<span class="subst">$&#123;email.value&#125;</span>`</span></span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">alert</span>(res.<span class="property">data</span>.<span class="property">msg</span>);</span><br><span class="line">        <span class="keyword">if</span>(res.<span class="property">data</span>.<span class="property">status</span>===<span class="number">0</span>)</span><br><span class="line">            history.<span class="title function_">back</span>();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br></pre></td></tr></table></figure></li><li><p>The register page looks like this:</p><p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20220415101147720.png" alt="image-20220415101147720"></p></li></ol><h3 id="3-Blog-Manage-System-Page"><a href="#3-Blog-Manage-System-Page" class="headerlink" title="3. Blog Manage System Page"></a>3. Blog Manage System Page</h3><h4 id="1-Introduction-1"><a href="#1-Introduction-1" class="headerlink" title="1. Introduction"></a>1. Introduction</h4><p>Blog Manage System Page is the main page of this project: </p><p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20220415101616577.png" alt="image-20220415101616577"></p><p>It is divided into three parts:</p><ol><li>User Information Bar</li><li>Categories Table</li><li>Article Publishment Table</li></ol><h4 id="2-User-Information-Bar"><a href="#2-User-Information-Bar" class="headerlink" title="2. User Information Bar"></a>2. User Information Bar</h4><ol><li><p>Create <em>&#x2F;Frontend&#x2F;home.html</em>:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>home<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;manage system based on Node&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;keywords&quot;</span> <span class="attr">content</span>=<span class="string">&quot;1,1,1&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;http://127.0.0.1:2000/CSS/home.css&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">crossorigin</span>=<span class="string">&quot;anonymous&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/axios/0.19.2/axios.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- change pwd dialog --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dialog</span> <span class="attr">class</span>=<span class="string">&quot;dialog&quot;</span> <span class="attr">id</span>=<span class="string">&quot;dialogPwd&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;dialogHeader&quot;</span>&gt;</span>Change Password<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;dialogContent&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">id</span>=<span class="string">&quot;oldPwd&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;old password&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">id</span>=<span class="string">&quot;newPwd&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;new password&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;dialogFooter&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;dialogBtn&quot;</span> <span class="attr">id</span>=<span class="string">&quot;pwdBtn_y&quot;</span>&gt;</span>Confirm<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;dialogBtn&quot;</span> <span class="attr">id</span>=<span class="string">&quot;pwdBtn_n&quot;</span>&gt;</span>Cancel<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dialog</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;userinfoBar&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--this image is the avatar, you can change its url--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://vignette.wikia.nocookie.net/warframe/images/4/46/Stalker_avatar.png/revision/latest?cb=20140806070139&amp;path-prefix=ru&quot;</span> <span class="attr">class</span>=<span class="string">&quot;userIcon&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;userinfo&quot;</span> <span class="attr">id</span>=<span class="string">&quot;userinfo&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;nickname&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;email&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;changeInfoBtn&quot;</span> <span class="attr">id</span>=<span class="string">&quot;changeInfoBtn&quot;</span>&gt;</span>Apply Changes<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;changePwdBtn&quot;</span> <span class="attr">id</span>=<span class="string">&quot;changePwdBtn&quot;</span>&gt;</span>Change Password<span class="tag">&lt;/<span class="name">div</span>&gt;</span>            </span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;http://127.0.0.1:2000/JS/home.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>Create &#x2F;Frontend&#x2F;CSS&#x2F;home.css</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br></pre></td><td class="code"><pre><span class="line">*:<span class="title function_">not</span>(<span class="params">dialog</span>) &#123;</span><br><span class="line">    <span class="attr">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attr">padding</span>: <span class="number">0</span>;</span><br><span class="line">    box-<span class="attr">sizing</span>: border-box;</span><br><span class="line">    <span class="attr">border</span>: none;</span><br><span class="line">    <span class="attr">outline</span>: none;</span><br><span class="line">    font-<span class="attr">family</span>: <span class="title class_">Verdana</span>, <span class="title class_">Geneva</span>, <span class="title class_">Tahoma</span>, sans-serif;</span><br><span class="line">    <span class="attr">color</span>: <span class="title function_">rgb</span>(<span class="number">111</span>, <span class="number">111</span>, <span class="number">111</span>);</span><br><span class="line">&#125;</span><br><span class="line">li &#123;</span><br><span class="line">    list-<span class="attr">style</span>: none;</span><br><span class="line">&#125;</span><br><span class="line">button &#123;</span><br><span class="line">    <span class="attr">cursor</span>: pointer;</span><br><span class="line">    <span class="attr">transition</span>: all <span class="number">0.</span>2s;</span><br><span class="line">&#125;</span><br><span class="line"><span class="attr">button</span>:hover &#123;</span><br><span class="line">    <span class="attr">transform</span>: <span class="title function_">scale</span>(<span class="number">1.05</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">body &#123;</span><br><span class="line">    <span class="attr">position</span>: relative;</span><br><span class="line">    min-<span class="attr">height</span>: 100vh;</span><br><span class="line">    <span class="comment">/* display: flex;</span></span><br><span class="line"><span class="comment">    justify-content: center;</span></span><br><span class="line"><span class="comment">    align-items: center; */</span></span><br><span class="line">    <span class="attr">background</span>: linear-<span class="title function_">gradient</span>(135deg,<span class="title function_">rgb</span>(<span class="number">104</span>, <span class="number">244</span>, <span class="number">247</span>),<span class="title function_">rgb</span>(<span class="number">251</span>, <span class="number">72</span>, <span class="number">48</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="attr">body</span>::before &#123;</span><br><span class="line">    <span class="attr">content</span>: <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="attr">position</span>: absolute;</span><br><span class="line">    <span class="attr">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attr">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attr">width</span>: <span class="number">100</span>%;</span><br><span class="line">    <span class="attr">height</span>: <span class="number">100</span>%;</span><br><span class="line">    <span class="attr">background</span>: <span class="title function_">rgba</span>(<span class="number">245</span>, <span class="number">71</span>, <span class="number">52</span>, <span class="number">0.566</span>);</span><br><span class="line">    clip-<span class="attr">path</span>: <span class="title function_">circle</span>(<span class="number">40</span>% at right <span class="number">120</span>%);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="attr">body</span>::after &#123;</span><br><span class="line">    <span class="attr">content</span>: <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="attr">position</span>: absolute;</span><br><span class="line">    <span class="attr">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attr">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attr">width</span>: <span class="number">100</span>%;</span><br><span class="line">    <span class="attr">height</span>: <span class="number">100</span>%;</span><br><span class="line">    <span class="attr">background</span>: <span class="title function_">rgba</span>(<span class="number">125</span>, <span class="number">236</span>, <span class="number">231</span>, <span class="number">0.273</span>);</span><br><span class="line">    clip-<span class="attr">path</span>: <span class="title function_">circle</span>(<span class="number">35</span>% at <span class="number">15</span>% -<span class="number">7</span>%);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.<span class="property">userinfoBar</span> &#123;</span><br><span class="line">        <span class="comment">/* size */</span></span><br><span class="line">        <span class="attr">height</span>: 100vh;</span><br><span class="line">        <span class="attr">width</span>: 350px;</span><br><span class="line">        <span class="comment">/* location and layout */</span></span><br><span class="line">        <span class="attr">position</span>: absolute;</span><br><span class="line">        <span class="attr">display</span>: flex;</span><br><span class="line">        justify-<span class="attr">content</span>: space-evenly;</span><br><span class="line">        align-<span class="attr">items</span>: center;</span><br><span class="line">        flex-<span class="attr">wrap</span>: wrap;</span><br><span class="line">        flex-<span class="attr">direction</span>: column;</span><br><span class="line">        <span class="comment">/* shadow &amp; background */</span></span><br><span class="line">        background-<span class="attr">color</span>: <span class="title function_">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.218</span>);</span><br><span class="line">        box-<span class="attr">shadow</span>: 15px 15px 25px <span class="title function_">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.2</span>);</span><br><span class="line"></span><br><span class="line">        border-top-right-<span class="attr">radius</span>: 15px;</span><br><span class="line">        border-bottom-right-<span class="attr">radius</span>: 15px;</span><br><span class="line"></span><br><span class="line">        backdrop-<span class="attr">filter</span>: <span class="title function_">blur</span>(5px);</span><br><span class="line"></span><br><span class="line">        z-<span class="attr">index</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.<span class="property">userIcon</span> &#123;</span><br><span class="line">    <span class="attr">width</span>: 100px;</span><br><span class="line">    <span class="attr">height</span>: 100px;</span><br><span class="line">    <span class="attr">display</span>: flex;</span><br><span class="line">    border-<span class="attr">radius</span>: <span class="number">50</span>%;</span><br><span class="line">    <span class="attr">border</span>: 1px solid <span class="title function_">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.575</span>);</span><br><span class="line">    align-<span class="attr">items</span>: center;</span><br><span class="line">    justify-<span class="attr">content</span>: center;</span><br><span class="line">    <span class="attr">overflow</span>: hidden;</span><br><span class="line"></span><br><span class="line">    <span class="attr">transition</span>: all <span class="number">0.</span>3s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.<span class="property">userIcon</span>:hover &#123;</span><br><span class="line">    <span class="attr">transform</span>: <span class="title function_">scale</span>(<span class="number">1.3</span>) <span class="title function_">rotate</span>(360deg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.<span class="property">userinfo</span> &#123;</span><br><span class="line">    <span class="attr">height</span>: 230px;</span><br><span class="line">    <span class="attr">width</span>: 300px;</span><br><span class="line">    <span class="attr">transform</span>: <span class="title function_">translate</span>(<span class="number">0</span>,-70px);</span><br><span class="line">    background-<span class="attr">color</span>: <span class="title function_">rgba</span>(<span class="number">237</span>, <span class="number">107</span>, <span class="number">107</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="attr">display</span>: flex;</span><br><span class="line">    justify-<span class="attr">content</span>: space-evenly;</span><br><span class="line">    align-<span class="attr">items</span>: center;</span><br><span class="line">    flex-<span class="attr">wrap</span>: wrap;</span><br><span class="line">    flex-<span class="attr">direction</span>: column;</span><br><span class="line"></span><br><span class="line">    border-<span class="attr">top</span>: 1px solid <span class="title function_">rgb</span>(<span class="number">136</span>, <span class="number">136</span>, <span class="number">136</span>);</span><br><span class="line">    border-<span class="attr">bottom</span>: 1px solid <span class="title function_">rgb</span>(<span class="number">136</span>, <span class="number">136</span>, <span class="number">136</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.<span class="property">userinfo</span> input &#123;</span><br><span class="line">    <span class="attr">height</span>: 35px;</span><br><span class="line">    padding-<span class="attr">left</span>: 10px;</span><br><span class="line">    font-<span class="attr">size</span>: 15px;</span><br><span class="line">    background-<span class="attr">color</span>: <span class="title function_">rgba</span>(<span class="number">226</span>, <span class="number">226</span>, <span class="number">226</span>, <span class="number">0.351</span>);</span><br><span class="line">    border-<span class="attr">radius</span>: 15px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.<span class="property">userinfo</span> *&#123;</span><br><span class="line">    <span class="attr">transition</span>: all <span class="number">0.</span>3s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.<span class="property">userinfo</span> *:hover &#123;</span><br><span class="line">    <span class="attr">transform</span>: <span class="title function_">scale</span>(<span class="number">1.05</span>);</span><br><span class="line">    <span class="attr">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.<span class="property">username</span> &#123;</span><br><span class="line">    font-<span class="attr">size</span>: 40px;</span><br><span class="line">    <span class="attr">color</span>:black;</span><br><span class="line">    font-<span class="attr">family</span>: <span class="string">&#x27;Franklin Gothic Medium&#x27;</span>, <span class="string">&#x27;Arial Narrow&#x27;</span>, <span class="title class_">Arial</span>, sans-serif;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.<span class="property">nickname</span> &#123;</span><br><span class="line">    font-<span class="attr">size</span>: 20px;</span><br><span class="line">    <span class="attr">color</span>: black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.<span class="property">email</span> &#123;</span><br><span class="line">    font-<span class="attr">size</span>: 15px;</span><br><span class="line">    text-<span class="attr">decoration</span>: underline;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.<span class="property">changeInfoBtn</span> &#123;</span><br><span class="line">    <span class="attr">display</span>: none;</span><br><span class="line">    <span class="attr">height</span>: 40px;</span><br><span class="line">    <span class="attr">width</span>: 130px;</span><br><span class="line">    font-<span class="attr">family</span>:<span class="string">&#x27;Gill Sans&#x27;</span>, <span class="string">&#x27;Gill Sans MT&#x27;</span>, <span class="title class_">Calibri</span>, <span class="string">&#x27;Trebuchet MS&#x27;</span>, sans-serif;</span><br><span class="line">    font-<span class="attr">weight</span>: <span class="number">550</span>;</span><br><span class="line">    font-<span class="attr">size</span>: 15px;</span><br><span class="line"></span><br><span class="line">    <span class="attr">color</span>: azure;</span><br><span class="line">    background-<span class="attr">color</span>: <span class="title function_">rgba</span>(<span class="number">70</span>, <span class="number">192</span>, <span class="number">237</span>, <span class="number">0.334</span>);</span><br><span class="line">    border-<span class="attr">radius</span>: 10px;</span><br><span class="line"></span><br><span class="line">    <span class="attr">transition</span>: all <span class="number">0.</span>2s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.<span class="property">changeInfoBtn</span>:hover &#123;</span><br><span class="line">    <span class="attr">width</span>: 150px;</span><br><span class="line">    <span class="attr">transform</span>: <span class="title function_">translate</span>(0px,2px);</span><br><span class="line">    background-<span class="attr">color</span>: <span class="title function_">rgba</span>(<span class="number">232</span>, <span class="number">87</span>, <span class="number">54</span>, <span class="number">0.414</span>);</span><br><span class="line">    <span class="attr">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.<span class="property">dialog</span> &#123;</span><br><span class="line">    <span class="attr">position</span>: relative;</span><br><span class="line">    <span class="attr">height</span>: 300px;</span><br><span class="line">    <span class="attr">width</span>: 250px;</span><br><span class="line">    <span class="attr">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attr">overflow</span>: hidden;</span><br><span class="line">    <span class="attr">border</span>: <span class="number">0</span>;</span><br><span class="line">    border-<span class="attr">top</span>: 1px solid <span class="title function_">rgba</span>(<span class="number">74</span>, <span class="number">74</span>, <span class="number">74</span>, <span class="number">0.519</span>);</span><br><span class="line">    border-<span class="attr">left</span>: 1px solid <span class="title function_">rgba</span>(<span class="number">63</span>, <span class="number">63</span>, <span class="number">63</span>, <span class="number">0.578</span>);</span><br><span class="line">    border-<span class="attr">radius</span>: 15px;</span><br><span class="line">    box-<span class="attr">shadow</span>: 20px 20px 50px <span class="title function_">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.3</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.<span class="property">dialog</span>::backdrop &#123;</span><br><span class="line">    background-<span class="attr">color</span>: <span class="title function_">rgba</span>(<span class="number">129</span>, <span class="number">129</span>, <span class="number">129</span>, <span class="number">0.592</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.<span class="property">dialogHeader</span> &#123;</span><br><span class="line">    <span class="attr">height</span>: 40px;</span><br><span class="line">    <span class="attr">width</span>: 250px;</span><br><span class="line">    <span class="attr">background</span>: linear-<span class="title function_">gradient</span>(45deg,<span class="title function_">rgb</span>(<span class="number">104</span>, <span class="number">244</span>, <span class="number">247</span>),<span class="title function_">rgb</span>(<span class="number">251</span>, <span class="number">72</span>, <span class="number">48</span>));</span><br><span class="line">    <span class="attr">color</span>: white;</span><br><span class="line">    text-<span class="attr">align</span>: center;</span><br><span class="line">    line-<span class="attr">height</span>: 40px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.<span class="property">dialogContent</span> &#123;</span><br><span class="line">    <span class="attr">height</span>: 210px;</span><br><span class="line">    <span class="attr">display</span>: flex;</span><br><span class="line">    justify-<span class="attr">content</span>: space-evenly;</span><br><span class="line">    align-<span class="attr">items</span>: center;</span><br><span class="line">    flex-<span class="attr">wrap</span>: wrap;</span><br><span class="line">    flex-<span class="attr">direction</span>: column;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.<span class="property">dialogContent</span> input &#123;</span><br><span class="line">    <span class="attr">display</span>: block;</span><br><span class="line">    <span class="attr">height</span>: 35px;</span><br><span class="line">    padding-<span class="attr">left</span>: 10px;</span><br><span class="line">    font-<span class="attr">size</span>: 15px;</span><br><span class="line">    background-<span class="attr">color</span>: <span class="title function_">rgba</span>(<span class="number">226</span>, <span class="number">226</span>, <span class="number">226</span>, <span class="number">0.351</span>);</span><br><span class="line">    <span class="attr">color</span>: black;</span><br><span class="line">    border-<span class="attr">radius</span>: 15px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.<span class="property">dialogFooter</span> &#123;</span><br><span class="line">    <span class="attr">position</span>: absolute;</span><br><span class="line">    <span class="attr">top</span>: 260px;</span><br><span class="line">    <span class="attr">height</span>: 50px;</span><br><span class="line">    <span class="attr">width</span>: 250px;</span><br><span class="line">    border-<span class="attr">top</span>: 1px solid <span class="title function_">rgb</span>(<span class="number">194</span>, <span class="number">194</span>, <span class="number">194</span>);</span><br><span class="line">    text-<span class="attr">align</span>: center;</span><br><span class="line">    line-<span class="attr">height</span>: 40px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.<span class="property">dialogBtn</span> &#123;</span><br><span class="line">    <span class="attr">height</span>: 21px;</span><br><span class="line">    <span class="attr">margin</span>: 10px;</span><br><span class="line">    <span class="attr">width</span>: 80px;</span><br><span class="line">    border-<span class="attr">radius</span>: 15px;</span><br><span class="line">    <span class="attr">color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#pwdBtn_y &#123;</span><br><span class="line">    background-<span class="attr">color</span>: <span class="title function_">rgb</span>(<span class="number">148</span>, <span class="number">255</span>, <span class="number">86</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#pwdBtn_n &#123;</span><br><span class="line">    background-<span class="attr">color</span>: <span class="title function_">rgb</span>(<span class="number">249</span>, <span class="number">52</span>, <span class="number">52</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.<span class="property">changePwdBtn</span> &#123;</span><br><span class="line">    <span class="attr">position</span>: fixed;</span><br><span class="line">    <span class="attr">top</span>: 540px;</span><br><span class="line">    <span class="attr">left</span>: 220px;</span><br><span class="line">    font-<span class="attr">size</span>: 12px;</span><br><span class="line">    <span class="attr">color</span>: <span class="title function_">rgb</span>(<span class="number">159</span>, <span class="number">159</span>, <span class="number">159</span>);</span><br><span class="line">    <span class="attr">cursor</span>: pointer;</span><br><span class="line"></span><br><span class="line">    <span class="attr">transition</span>: all <span class="number">0.</span>2s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.<span class="property">changePwdBtn</span>:hover &#123;</span><br><span class="line">    <span class="attr">color</span>: white;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Then you can check this static page, and the user information bar is shown below:</p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20220415102623266.png" alt="image-20220415102623266" style="zoom: 50%;" /></li><li><p>Create <em>&#x2F;Frontend&#x2F;JS&#x2F;home.js</em> to send get&#x2F;update user information AJAX request and change password AJAX request:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> userinfo=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;userinfo&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> changeInfoBtn=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;changeInfoBtn&quot;</span>)</span><br><span class="line">axios.<span class="property">defaults</span>.<span class="property">baseURL</span>=<span class="string">&#x27;http://127.0.0.1:2000&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> userinfoObj=<span class="title class_">JSON</span>.<span class="title function_">parse</span>(sessionStorage.<span class="title function_">getItem</span>(<span class="string">&#x27;userinfo&#x27;</span>));</span><br><span class="line"><span class="keyword">const</span> dialogPwd=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;dialogPwd&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> pwdBtn_y=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;pwdBtn_y&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> pwdBtn_n=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;pwdBtn_n&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> oldPwd=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;oldPwd&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> newPwd=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;newPwd&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">iniInnerHTML</span>(<span class="params">className</span>)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(className)[<span class="number">0</span>].<span class="property">innerHTML</span>=userinfoObj[className]===<span class="literal">null</span>?<span class="string">`click to set <span class="subst">$&#123;className&#125;</span>`</span>:userinfoObj[className];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">iniInnerHTML</span>(<span class="string">&quot;username&quot;</span>);</span><br><span class="line"><span class="title function_">iniInnerHTML</span>(<span class="string">&quot;nickname&quot;</span>);</span><br><span class="line"><span class="title function_">iniInnerHTML</span>(<span class="string">&quot;email&quot;</span>);</span><br><span class="line"></span><br><span class="line">userinfo.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(e.<span class="property">target</span>!==userinfo &amp;&amp; e.<span class="property">target</span>!==changeInfoBtn)&#123;</span><br><span class="line">        e.<span class="property">target</span>.<span class="property">innerHTML</span>=<span class="string">`&lt;input type=&quot;text&quot; class=&quot;userInput&quot; value=<span class="subst">$&#123;e.target.innerHTML&#125;</span>&gt;`</span>;</span><br><span class="line">        changeInfoBtn.<span class="property">style</span>.<span class="property">display</span>=<span class="string">&quot;block&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getInfo</span>(<span class="params">className</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> el=<span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(className)[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">if</span>(el.<span class="property">firstElementChild</span>===<span class="literal">null</span>)</span><br><span class="line">        <span class="keyword">return</span> el.<span class="property">innerHTML</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> el.<span class="property">firstElementChild</span>.<span class="property">value</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">changeInfoBtn.<span class="property">addEventListener</span> (<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> username=<span class="title function_">getInfo</span>(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> nickname=<span class="title function_">getInfo</span>(<span class="string">&quot;nickname&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> email=<span class="title function_">getInfo</span>(<span class="string">&quot;email&quot;</span>);</span><br><span class="line">    <span class="title function_">axios</span>(&#123;</span><br><span class="line">        <span class="comment">//request method</span></span><br><span class="line">        <span class="attr">method</span>:<span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">        <span class="comment">//url</span></span><br><span class="line">        <span class="attr">url</span>:<span class="string">&#x27;/my/userinfo&#x27;</span>,</span><br><span class="line">        <span class="comment">//url parameters</span></span><br><span class="line">        <span class="attr">params</span>:&#123;&#125;,</span><br><span class="line">        <span class="attr">headers</span>:&#123;</span><br><span class="line">            <span class="string">&#x27;Authorization&#x27;</span>:sessionStorage.<span class="title function_">getItem</span>(<span class="string">&#x27;token&#x27;</span>),</span><br><span class="line">            <span class="string">&#x27;content-type&#x27;</span>:<span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//request body</span></span><br><span class="line">        <span class="attr">data</span>:<span class="string">`username=<span class="subst">$&#123;username&#125;</span>&amp;nickname=<span class="subst">$&#123;nickname&#125;</span>&amp;email=<span class="subst">$&#123;email&#125;</span>`</span></span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">alert</span>(res.<span class="property">data</span>.<span class="property">msg</span>);</span><br><span class="line">        sessionStorage.<span class="title function_">setItem</span>(<span class="string">&#x27;userinfo&#x27;</span>,<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;username,nickname,email&#125;));</span><br><span class="line">        location.<span class="title function_">reload</span>();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line">changePwdBtn.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    dialogPwd.<span class="title function_">showModal</span>();</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line">pwdBtn_n.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    dialogPwd.<span class="title function_">close</span>();</span><br><span class="line">    oldPwd.<span class="property">value</span>=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    newPwd.<span class="property">value</span>=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">pwdBtn_y.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="title function_">axios</span>(&#123;</span><br><span class="line">        <span class="comment">//request method</span></span><br><span class="line">        <span class="attr">method</span>:<span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">        <span class="comment">//url</span></span><br><span class="line">        <span class="attr">url</span>:<span class="string">&#x27;/my/updatePassword&#x27;</span>,</span><br><span class="line">        <span class="comment">//url parameters</span></span><br><span class="line">        <span class="attr">params</span>:&#123;&#125;,</span><br><span class="line">        <span class="attr">headers</span>:&#123;</span><br><span class="line">            <span class="string">&#x27;Authorization&#x27;</span>:sessionStorage.<span class="title function_">getItem</span>(<span class="string">&#x27;token&#x27;</span>),</span><br><span class="line">            <span class="string">&#x27;content-type&#x27;</span>:<span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//request body</span></span><br><span class="line">        <span class="attr">data</span>:<span class="string">`oldPwd=<span class="subst">$&#123;oldPwd.value&#125;</span>&amp;newPwd=<span class="subst">$&#123;newPwd.value&#125;</span>`</span></span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">alert</span>(res.<span class="property">data</span>.<span class="property">msg</span>);</span><br><span class="line">        <span class="keyword">if</span>(res.<span class="property">data</span>.<span class="property">status</span>==<span class="number">0</span>)&#123;</span><br><span class="line">            dialogPwd.<span class="title function_">close</span>();</span><br><span class="line">            oldPwd.<span class="property">value</span>=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line">            newPwd.<span class="property">value</span>=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        &#125;        </span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol><h4 id="3-Categories-Table"><a href="#3-Categories-Table" class="headerlink" title="3. Categories Table"></a>3. Categories Table</h4><ol><li><p>Add codes below to body of <em>&#x2F;Frontend&#x2F;home.html</em>:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">     <span class="comment">&lt;!-- update artcate dialog --&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">dialog</span> <span class="attr">class</span>=<span class="string">&quot;dialog&quot;</span> <span class="attr">id</span>=<span class="string">&quot;dialogArtcate&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;dialogHeader&quot;</span> <span class="attr">id</span>=<span class="string">&quot;dialogHeader&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;dialogContent&quot;</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;dialogArtcate_name&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;dialogArtcate_alias&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;alias&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;dialogFooter&quot;</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;dialogBtn&quot;</span> <span class="attr">id</span>=<span class="string">&quot;artcateBtn_y&quot;</span>&gt;</span>Confirm<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;dialogBtn&quot;</span> <span class="attr">id</span>=<span class="string">&quot;artcateBtn_n&quot;</span>&gt;</span>Cancel<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">dialog</span>&gt;</span></span><br><span class="line">   </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;cateAndartArea&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;optionBar&quot;</span> <span class="attr">id</span>=<span class="string">&quot;optionBar&quot;</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;option&quot;</span> <span class="attr">id</span>=<span class="string">&quot;catalogsBtn&quot;</span>&gt;</span>categories<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;option&quot;</span> <span class="attr">id</span>=<span class="string">&quot;articlesBtn&quot;</span>&gt;</span>articles<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- category area --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;artcates&quot;</span> <span class="attr">id</span>=<span class="string">&quot;artcates&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;addcate&quot;</span> <span class="attr">id</span>=<span class="string">&quot;addcateBtn&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- article area --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;articles&quot;</span> <span class="attr">id</span>=<span class="string">&quot;articles&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>Add codes below to <em>&#x2F;Frontend&#x2F;CSS&#x2F;home.css</em> to define style of category table and option bar above it:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"> <span class="selector-class">.cateAndartArea</span> &#123;</span><br><span class="line">    <span class="comment">/* size */</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100vh</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">74%</span> - <span class="number">1px</span>);</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">60px</span>;</span><br><span class="line">    <span class="comment">/* location and layout */</span></span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">400px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.234</span>);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">15px</span> <span class="number">15px</span> <span class="number">25px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.2</span>);</span><br><span class="line"></span><br><span class="line">    <span class="attribute">border-top-left-radius</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">border-bottom-left-radius</span>: <span class="number">15px</span>;</span><br><span class="line"></span><br><span class="line">    backdrop-<span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">15px</span>);</span><br><span class="line"></span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.optionBar</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="built_in">rgb</span>(<span class="number">136</span>, <span class="number">136</span>, <span class="number">136</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.option</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">3px</span> <span class="number">20px</span> <span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">5px</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">background-color</span>: transparent;</span><br><span class="line">    <span class="attribute">border-top-left-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">border-top-right-radius</span>: <span class="number">10px</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">2px</span> <span class="number">2px</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.2</span>);</span><br><span class="line"></span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.option</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.349</span>);</span><br><span class="line">    <span class="comment">/* background: linear-gradient(45deg,rgba(255, 255, 255, 0),rgba(255, 255, 255, 0.479)); */</span></span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.artcates</span> &#123;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">2px</span> <span class="number">2px</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.2</span>);</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.427</span>);</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.367</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.addcate</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">1000px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.addcate</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.catelist</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">146</span>, <span class="number">146</span>, <span class="number">146</span>, <span class="number">0.593</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.catelist</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">337px</span>;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.editBtn</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">53</span>, <span class="number">255</span>, <span class="number">27</span>);</span><br><span class="line">    <span class="attribute">color</span>: aliceblue;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.deleteBtn</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">51</span>, <span class="number">51</span>);</span><br><span class="line">    <span class="attribute">color</span>: aliceblue;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#artcateBtn_y</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">53</span>, <span class="number">255</span>, <span class="number">27</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#artcateBtn_n</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">51</span>, <span class="number">51</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>So this static page is finished:</p><p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20220415104458837.png" alt="image-20220415104458837"></p></li><li><p>Add codes below to <em>&#x2F;Frontend&#x2F;JS&#x2F;home.js</em> to ensure that user can switch between category table and article publishment table by clicking buttons on the top option bar:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//article option bar</span></span><br><span class="line"><span class="keyword">const</span> catalogsBtn=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;catalogsBtn&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> articlesBtn=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;articlesBtn&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> optionBar=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;optionBar&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> artcates=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;artcates&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> articles=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;articles&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> addcateBtn=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;addcateBtn&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">deleteParentElement</span>(<span class="params">Obj</span>) &#123;</span><br><span class="line">    <span class="title class_">Obj</span>.<span class="property">parentNode</span>.<span class="property">parentNode</span>.<span class="property">parentNode</span>.<span class="title function_">removeChild</span>(<span class="title class_">Obj</span>.<span class="property">parentNode</span>.<span class="property">parentNode</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">articles.<span class="property">style</span>.<span class="property">display</span>=<span class="string">&quot;none&quot;</span>;</span><br><span class="line"></span><br><span class="line">optionBar.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(e.<span class="property">target</span>.<span class="property">id</span>==<span class="string">&quot;catalogsBtn&quot;</span>)&#123;</span><br><span class="line">        artcates.<span class="property">style</span>.<span class="property">display</span>=<span class="string">&quot;block&quot;</span>;</span><br><span class="line">        addcateBtn.<span class="property">style</span>.<span class="property">display</span>=<span class="string">&quot;block&quot;</span>;</span><br><span class="line">        e.<span class="property">target</span>.<span class="property">style</span>.<span class="property">background</span>=<span class="string">&quot;linear-gradient(45deg,rgba(255, 255, 255, 0.101),rgba(255, 255, 255, 0.6))&quot;</span>;</span><br><span class="line">        articlesBtn.<span class="property">style</span>.<span class="title function_">removeProperty</span>(<span class="string">&quot;background&quot;</span>);</span><br><span class="line">        <span class="title function_">getArtcates</span>();</span><br><span class="line"></span><br><span class="line">        articles.<span class="property">style</span>.<span class="property">display</span>=<span class="string">&quot;none&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(e.<span class="property">target</span>.<span class="property">id</span>==<span class="string">&quot;articlesBtn&quot;</span>)&#123;</span><br><span class="line">        articles.<span class="property">style</span>.<span class="property">display</span>=<span class="string">&quot;block&quot;</span>;</span><br><span class="line">        e.<span class="property">target</span>.<span class="property">style</span>.<span class="property">background</span>=<span class="string">&quot;linear-gradient(45deg,rgba(255, 255, 255, 0.101),rgba(255, 255, 255, 0.6))&quot;</span>;</span><br><span class="line">        catalogsBtn.<span class="property">style</span>.<span class="title function_">removeProperty</span>(<span class="string">&quot;background&quot;</span>);</span><br><span class="line"></span><br><span class="line">        artcates.<span class="property">style</span>.<span class="property">display</span>=<span class="string">&quot;none&quot;</span>;</span><br><span class="line">        addcateBtn.<span class="property">style</span>.<span class="property">display</span>=<span class="string">&quot;none&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br></pre></td></tr></table></figure></li><li><p>Then add codes below to <em>&#x2F;Frontend&#x2F;JS&#x2F;home.js</em> to ensure that buttons can send relative get&#x2F;edit&#x2F;delete categories AJAX request to backend:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//get artcates</span></span><br><span class="line"><span class="keyword">const</span> dialogArtcate=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;dialogArtcate&quot;</span>);</span><br><span class="line"><span class="comment">//artcate dialog variables</span></span><br><span class="line"><span class="keyword">const</span> artcateBtn_y=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;artcateBtn_y&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> artcateBtn_n=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;artcateBtn_n&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> dialogArtcate_name=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;dialogArtcate_name&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> dialogArtcate_alias=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;dialogArtcate_alias&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> dialogHeader=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;dialogHeader&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> artcatesData;</span><br><span class="line"><span class="title function_">getArtcates</span>();</span><br><span class="line"></span><br><span class="line">dialogArtcate.<span class="property">showUp</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    dialogArtcate_name.<span class="property">value</span>=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    dialogArtcate_alias.<span class="property">value</span>=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    dialogArtcate.<span class="title function_">showModal</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//artcates, edit button and delete button</span></span><br><span class="line">artcates.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(e.<span class="property">target</span>.<span class="property">className</span>===<span class="string">&quot;deleteBtn&quot;</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="title function_">confirm</span>(<span class="string">&quot;Do you really want to delete this category?&quot;</span>))&#123;</span><br><span class="line">            <span class="title function_">deleteArtcate</span>(e.<span class="property">target</span>.<span class="property">id</span>.<span class="title function_">match</span>(<span class="regexp">/\d+/</span>)[<span class="number">0</span>]);</span><br><span class="line">            <span class="title function_">deleteParentElement</span>(e.<span class="property">target</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(e.<span class="property">target</span>.<span class="property">className</span>===<span class="string">&quot;editBtn&quot;</span>)&#123;</span><br><span class="line">        dialogHeader.<span class="property">innerHTML</span>=<span class="string">&quot;Edit Category&quot;</span>;</span><br><span class="line">        dialogArtcate.<span class="title function_">showUp</span>();</span><br><span class="line">        artcateBtn_y.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="title function_">updateArtcate</span>(e.<span class="property">target</span>.<span class="property">id</span>.<span class="title function_">match</span>(<span class="regexp">/\d+/</span>)[<span class="number">0</span>],dialogArtcate_name.<span class="property">value</span>,dialogArtcate_alias.<span class="property">value</span>);</span><br><span class="line">            e.<span class="property">target</span>.<span class="property">parentNode</span>.<span class="property">previousElementSibling</span>.<span class="property">innerHTML</span>=dialogArtcate_alias.<span class="property">value</span>;</span><br><span class="line">            e.<span class="property">target</span>.<span class="property">parentNode</span>.<span class="property">previousElementSibling</span>.<span class="property">previousElementSibling</span>.<span class="property">innerHTML</span>=dialogArtcate_name.<span class="property">value</span>;</span><br><span class="line">            dialogArtcate.<span class="title function_">close</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        artcateBtn_n.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            dialogArtcate.<span class="title function_">close</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//arcates, add button</span></span><br><span class="line">addcateBtn.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    dialogHeader.<span class="property">innerHTML</span>=<span class="string">&quot;Add Category&quot;</span>;</span><br><span class="line">    dialogArtcate.<span class="title function_">showUp</span>();</span><br><span class="line">    artcateBtn_y.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="title function_">addArtcate</span>(dialogArtcate_name.<span class="property">value</span>,dialogArtcate_alias.<span class="property">value</span>);</span><br><span class="line">        dialogArtcate.<span class="title function_">close</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    artcateBtn_n.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        dialogArtcate.<span class="title function_">close</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createArtcateList</span>(<span class="params">name,alias,num</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> catelist=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;ul&quot;</span>);</span><br><span class="line">    artcates.<span class="title function_">appendChild</span>(catelist);</span><br><span class="line">    catelist.<span class="title function_">setAttribute</span>(<span class="string">&quot;class&quot;</span>,<span class="string">&quot;catelist&quot;</span>);</span><br><span class="line">    catelist.<span class="property">innerHTML</span>=<span class="string">`</span></span><br><span class="line"><span class="string">        &lt;li&gt;<span class="subst">$&#123;name&#125;</span>&lt;/li&gt;</span></span><br><span class="line"><span class="string">        &lt;li&gt;<span class="subst">$&#123;alias&#125;</span>&lt;/li&gt;</span></span><br><span class="line"><span class="string">        &lt;li&gt;</span></span><br><span class="line"><span class="string">            &lt;button class=&quot;editBtn&quot; id=&quot;editBtn<span class="subst">$&#123;num&#125;</span>&quot;&gt;Edit&lt;/button&gt;</span></span><br><span class="line"><span class="string">            &lt;button class=&quot;deleteBtn&quot; id=&quot;deleteBtn<span class="subst">$&#123;num&#125;</span>&quot;&gt;Delete&lt;/button&gt;</span></span><br><span class="line"><span class="string">        &lt;/li&gt;`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">clearArtcateLists</span>(<span class="params"></span>)&#123;</span><br><span class="line">    artcates.<span class="property">innerHTML</span>=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//requests of artcate</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getArtcates</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="title function_">axios</span>(&#123;</span><br><span class="line">        <span class="comment">//request method</span></span><br><span class="line">        <span class="attr">method</span>:<span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">        <span class="comment">//url</span></span><br><span class="line">        <span class="attr">url</span>:<span class="string">&#x27;/my/article/cates&#x27;</span>,</span><br><span class="line">        <span class="comment">//url parameters</span></span><br><span class="line">        <span class="attr">params</span>:&#123;&#125;,</span><br><span class="line">        <span class="attr">headers</span>:&#123;</span><br><span class="line">            <span class="string">&#x27;Authorization&#x27;</span>:sessionStorage.<span class="title function_">getItem</span>(<span class="string">&#x27;token&#x27;</span>),</span><br><span class="line">            <span class="string">&#x27;content-type&#x27;</span>:<span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">clearArtcateLists</span>();</span><br><span class="line">        artcatesData=res.<span class="property">data</span>.<span class="property">data</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> el <span class="keyword">of</span> artcatesData)&#123;</span><br><span class="line">            <span class="title function_">createArtcateList</span>(el.<span class="property">name</span>,el.<span class="property">alias</span>,el.<span class="property">id</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">deleteArtcate</span>(<span class="params">id</span>)&#123;</span><br><span class="line">    <span class="title function_">axios</span>(&#123;</span><br><span class="line">        <span class="comment">//request method</span></span><br><span class="line">        <span class="attr">method</span>:<span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">        <span class="comment">//url</span></span><br><span class="line">        <span class="attr">url</span>:<span class="string">`/my/article/deletecates/<span class="subst">$&#123;id&#125;</span>`</span>,</span><br><span class="line">        <span class="comment">//url parameters</span></span><br><span class="line">        <span class="attr">params</span>:&#123;&#125;,</span><br><span class="line">        <span class="attr">headers</span>:&#123;</span><br><span class="line">            <span class="string">&#x27;Authorization&#x27;</span>:sessionStorage.<span class="title function_">getItem</span>(<span class="string">&#x27;token&#x27;</span>),</span><br><span class="line">            <span class="string">&#x27;content-type&#x27;</span>:<span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">data</span>:<span class="string">`oldPwd=<span class="subst">$&#123;oldPwd.value&#125;</span>&amp;newPwd=<span class="subst">$&#123;newPwd.value&#125;</span>`</span></span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">alert</span>(res.<span class="property">data</span>.<span class="property">msg</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">updateArtcate</span>(<span class="params">id,name,alias</span>)&#123;</span><br><span class="line">    <span class="title function_">axios</span>(&#123;</span><br><span class="line">        <span class="comment">//request method</span></span><br><span class="line">        <span class="attr">method</span>:<span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">        <span class="comment">//url</span></span><br><span class="line">        <span class="attr">url</span>:<span class="string">`/my/article/updatecate`</span>,</span><br><span class="line">        <span class="comment">//url parameters</span></span><br><span class="line">        <span class="attr">params</span>:&#123;&#125;,</span><br><span class="line">        <span class="attr">headers</span>:&#123;</span><br><span class="line">            <span class="string">&#x27;Authorization&#x27;</span>:sessionStorage.<span class="title function_">getItem</span>(<span class="string">&#x27;token&#x27;</span>),</span><br><span class="line">            <span class="string">&#x27;content-type&#x27;</span>:<span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">data</span>:<span class="string">`id=<span class="subst">$&#123;id&#125;</span>&amp;name=<span class="subst">$&#123;name&#125;</span>&amp;alias=<span class="subst">$&#123;alias&#125;</span>`</span></span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">alert</span>(res.<span class="property">data</span>.<span class="property">msg</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">addArtcate</span>(<span class="params">name,alias</span>)&#123;</span><br><span class="line">    <span class="title function_">axios</span>(&#123;</span><br><span class="line">        <span class="comment">//request method</span></span><br><span class="line">        <span class="attr">method</span>:<span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">        <span class="comment">//url</span></span><br><span class="line">        <span class="attr">url</span>:<span class="string">`/my/article/addcate`</span>,</span><br><span class="line">        <span class="comment">//url parameters</span></span><br><span class="line">        <span class="attr">params</span>:&#123;&#125;,</span><br><span class="line">        <span class="attr">headers</span>:&#123;</span><br><span class="line">            <span class="string">&#x27;Authorization&#x27;</span>:sessionStorage.<span class="title function_">getItem</span>(<span class="string">&#x27;token&#x27;</span>),</span><br><span class="line">            <span class="string">&#x27;content-type&#x27;</span>:<span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">data</span>:<span class="string">`&amp;name=<span class="subst">$&#123;name&#125;</span>&amp;alias=<span class="subst">$&#123;alias&#125;</span>`</span></span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">alert</span>(res.<span class="property">data</span>.<span class="property">msg</span>);</span><br><span class="line">        <span class="keyword">if</span>(res.<span class="property">data</span>.<span class="property">status</span>==<span class="number">0</span>)</span><br><span class="line">            <span class="title function_">createArtcateList</span>(name,alias,res.<span class="property">data</span>.<span class="property">data</span>.<span class="property">insertId</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h4 id="4-Article-Publishment-Table"><a href="#4-Article-Publishment-Table" class="headerlink" title="4. Article Publishment Table"></a>4. Article Publishment Table</h4><ol><li><p>Update codes in article area in <em>&#x2F;Frontend&#x2F;home.html</em> like this:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- article area --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;articles&quot;</span> <span class="attr">id</span>=<span class="string">&quot;articles&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span> <span class="attr">id</span>=<span class="string">&quot;title&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Title&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;artInfoBar&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;art_cate&quot;</span> <span class="attr">id</span>=<span class="string">&quot;art_cate&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;input category&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;sci&quot;</span>&gt;</span>cover image<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">class</span>=<span class="string">&quot;art_cover&quot;</span> <span class="attr">id</span>=<span class="string">&quot;art_cover&quot;</span> <span class="attr">name</span>=<span class="string">&quot;cover_img&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span> <span class="attr">id</span>=<span class="string">&quot;content&quot;</span> <span class="attr">cols</span>=<span class="string">&quot;30&quot;</span> <span class="attr">rows</span>=<span class="string">&quot;10&quot;</span>&gt;</span>Input your content<span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;publishBtn&quot;</span> <span class="attr">id</span>=<span class="string">&quot;publishBtn&quot;</span>&gt;</span>Publish<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>Add contents below to <em>&#x2F;Frontend&#x2F;CSS&#x2F;home.css</em> to define style of article publishment table:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* writing article area */</span></span><br><span class="line"><span class="selector-class">.articles</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">630px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">1010px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="comment">/* text-align: center; */</span></span><br><span class="line">    <span class="attribute">background-color</span>:<span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.55</span>);</span><br><span class="line"></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">5px</span> <span class="number">5px</span> <span class="number">16px</span> <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>) inset;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.title</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">950px</span>;</span><br><span class="line">    <span class="attribute">padding-bottom</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">color</span>: black;</span><br><span class="line">    <span class="attribute">background-color</span>: transparent;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.artInfoBar</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">950px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">padding-bottom</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid grey;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.art_cate</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">130px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: transparent;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sci</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">157</span>, <span class="number">157</span>, <span class="number">157</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.art_cover</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">167px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">950px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">480px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">color</span>: black;</span><br><span class="line">    <span class="attribute">background-color</span>: transparent;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.publishBtn</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">890px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">padding-right</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">color</span>:white;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">252</span>, <span class="number">93</span>, <span class="number">35</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Add codes below to <em>&#x2F;Frontend&#x2F;JS&#x2F;home.js</em> so that the button “Publish” would send AJAX request when it is clicked:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//article publishment</span></span><br><span class="line"><span class="keyword">const</span> publishBtn=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;publishBtn&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> art_cover=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;art_cover&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> title=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;title&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> art_cate=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;art_cate&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> content=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;content&quot;</span>);</span><br><span class="line"></span><br><span class="line">publishBtn.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">//the AJAX request of publishment needs form data in request body</span></span><br><span class="line">    <span class="comment">//so we use FormData object to generate a form data</span></span><br><span class="line">    <span class="keyword">const</span> formData=<span class="keyword">new</span> <span class="title class_">FormData</span>();</span><br><span class="line">    <span class="comment">//add data into it</span></span><br><span class="line">    formData.<span class="title function_">append</span>(<span class="string">&quot;title&quot;</span>, title.<span class="property">value</span>);</span><br><span class="line">    formData.<span class="title function_">append</span>(<span class="string">&quot;cate&quot;</span>, art_cate.<span class="property">value</span>);</span><br><span class="line">    formData.<span class="title function_">append</span>(<span class="string">&quot;content&quot;</span>, content.<span class="property">value</span>);</span><br><span class="line">    formData.<span class="title function_">append</span>(<span class="string">&quot;state&quot;</span>, <span class="string">&quot;published&quot;</span>);</span><br><span class="line">    formData.<span class="title function_">append</span>(<span class="string">&quot;cover_img&quot;</span>,art_cover.<span class="property">files</span>[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="title function_">axios</span>(&#123;</span><br><span class="line">        <span class="comment">//request method</span></span><br><span class="line">        <span class="attr">method</span>:<span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">        <span class="comment">//url</span></span><br><span class="line">        <span class="attr">url</span>:<span class="string">`/my/article/add`</span>,</span><br><span class="line">        <span class="comment">//url parameters</span></span><br><span class="line">        <span class="attr">params</span>:&#123;&#125;,</span><br><span class="line">        <span class="attr">headers</span>:&#123;</span><br><span class="line">            <span class="string">&#x27;Authorization&#x27;</span>:sessionStorage.<span class="title function_">getItem</span>(<span class="string">&#x27;token&#x27;</span>),</span><br><span class="line">            <span class="string">&#x27;content-type&#x27;</span>:<span class="string">&#x27;multipart/form-data&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//req.body</span></span><br><span class="line">        <span class="attr">data</span>:formData</span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">alert</span>(res.<span class="property">data</span>.<span class="property">msg</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> Projects </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> Node.js </tag>
            
            <tag> HTML </tag>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
